---
schema_version: 1
id: d5e0w80
status: open
blocked-by: []
created: 2026-01-05T19:16:48Z
type: task
priority: 4
assignee: Calvin Alkan
---
# Remove export_test.go antipattern from internal/ticket

The internal/ticket/export_test.go file exposes internal implementation details for testing (cache magic bytes, version numbers, binary layout, status/type byte values). This is an antipattern - tests should use public API only.

Files affected:
- internal/ticket/export_test.go (to delete)
- internal/ticket/cache_test.go
- internal/ticket/cache_dir_mtime_test.go
- internal/ticket/cache_gob_test.go

These tests verify internal cache format details. Refactor to test through public API (ListTickets behavior, corruption handling) rather than byte layout.

Do this after cache logic refactoring is complete.
